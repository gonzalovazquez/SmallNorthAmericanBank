swagger: '2.0'
info:
  contact:
    name: Eric Broda
    url: N/A
    email: ericbroda@rogers.com
  version: v3_0_0
  description: >-
    An Open Source API for Banks.  (c) TESOBE Ltd. 2011 - 2016. Licensed under
    the AGPL and commercial licences.  Decomposed from Master PSD2 Swagger
    (http://psd2.it/#psd2apps).  Generated by psd2-generator:
    https://github.com/ericbroda/psd2-generator
  title: 'API URI: /management/consumers/{CONSUMER_ID}'
host: apisandbox.openbankproject.com
basePath: /obp/v3_0_0
schemes:
  - http
  - https
securityDefinitions:
  PSUOAuth2Security:
    type: oauth2
    flow: application
    tokenUrl: 'http://localhost:8080/oauth2/token'
    scopes:
      ManagementConsumersByConsumerId.create: CREATE access to ManagementConsumersByConsumerId
      ManagementConsumersByConsumerId.read: READ access to ManagementConsumersByConsumerId
      ManagementConsumersByConsumerId.update: UPDATE access to ManagementConsumersByConsumerId
      ManagementConsumersByConsumerId.delete: DELETE access to ManagementConsumersByConsumerId
      ManagementConsumersByConsumerId.all: APP access to ManagementConsumersByConsumerId
paths:
  '/management/consumers/{CONSUMER_ID}':
    get:
      tags:
        - '2_1_0'
      summary: Get Consumer
      description: <p>Get the Consumer specified by CONSUMER_ID.</p>
      operationId: v2_1_0-getConsumer
      parameters:
        - in: path
          name: CONSUMER_ID
          description: new consumer id
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            required:
              - consumer_id
              - app_name
              - app_type
              - description
              - developer_email
              - redirect_url
              - created_by_user_id
              - created_by_user
              - enabled
              - created
            properties:
              created_by_user_id:
                type: string
                example: '123213'
              app_type:
                type: string
                example: Web
              description:
                type: string
                example: Account Management
              created_by_user:
                required:
                  - user_id
                  - email
                  - provider_id
                  - provider
                  - username
                properties:
                  provider:
                    type: string
                    example: obp
                  email:
                    type: string
                    example: contact@tesobe.com
                  username:
                    type: string
                    example: TESOBE
                  provider_id:
                    type: string
                    example: obp
                  user_id:
                    type: string
                    example: '123'
              enabled:
                type: boolean
                example: 'true'
              redirect_url:
                type: string
                example: www.openbankproject.com
              developer_email:
                type: string
                example: contact@tesobe.com
              consumer_id:
                type: integer
                format: int64
                example: '1213'
              app_name:
                type: string
                example: SOFI
              created:
                type: string
                format: date
                example: 'Tue Jan 22 00:08:00 UTC 2013'
        '400':
          description: Error
          schema:
            properties:
              message:
                type: string
                example: 'OBP-20001: User not logged in. Authentication is required!'
      security:
        - PSUOAuth2Security:
            - ManagementConsumersByConsumerId.all
    put:
      tags:
        - '2_1_0'
      summary: Enable or Disable Consumers
      description: <p>Enable/Disable a Consumer specified by CONSUMER_ID.</p>
      operationId: v2_1_0-enableDisableConsumers
      parameters:
        - in: body
          name: body
          description: BANK_BODY
          required: true
          schema:
            required:
              - enabled
            properties:
              enabled:
                type: boolean
                example: 'false'
        - in: path
          name: CONSUMER_ID
          description: new consumer id
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            required:
              - enabled
            properties:
              enabled:
                type: boolean
                example: 'false'
        '400':
          description: Error
          schema:
            properties:
              message:
                type: string
                example: 'OBP-20001: User not logged in. Authentication is required!'
      security:
        - PSUOAuth2Security:
            - ManagementConsumersByConsumerId.all
